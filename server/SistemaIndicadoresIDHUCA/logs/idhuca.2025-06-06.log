2025-06-06 19:52:08.925 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 3176 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 19:52:08.936 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 19:52:08.938 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 19:52:10.355 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 19:52:10.585 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 212 ms. Found 9 JPA repository interfaces.
2025-06-06 19:52:11.952 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 19:52:11.999 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 19:52:12.006 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 19:52:12.007 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 19:52:12.212 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 19:52:12.216 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 3170 ms
2025-06-06 19:52:12.563 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 19:52:12.695 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 19:52:12.773 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 19:52:13.404 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 19:52:13.470 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 19:52:14.685 [main] WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper:logExceptions:145] - SQL Error: 0, SQLState: 08001
2025-06-06 19:52:14.686 [main] ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper:logExceptions:150] - Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
2025-06-06 19:52:14.689 [main] WARN  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:getJdbcEnvironmentUsingJdbcMetadata:389] - HHH000342: Could not obtain connection to query metadata
org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:320)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1460)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.uca.idhuca.sistema.indicadores.SistemaIndicadoresIdhucaApplication.main(SistemaIndicadoresIdhucaApplication.java:12)
Caused by: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:352)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:273)
	at org.postgresql.Driver.makeConnection(Driver.java:446)
	at org.postgresql.Driver.connect(Driver.java:298)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:467)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	... 120 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:628)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:533)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:282)
	at java.base/java.net.Socket.connect(Socket.java:665)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:260)
	at org.postgresql.core.PGStream.<init>(PGStream.java:121)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:140)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:268)
	... 134 common frames omitted
2025-06-06 19:52:16.643 [main] ERROR [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:436] - Failed to initialize JPA EntityManagerFactory: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
2025-06-06 19:52:16.654 [main] ERROR [org.springframework.boot.web.embedded.tomcat.TomcatStarter:onStartup:60] - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userDetailsService': Error creating bean with name 'userDetailsServiceImpl': Unsatisfied dependency expressed through field 'usuarioRepository': Error creating bean with name 'usuarioRepository' defined in com.uca.idhuca.sistema.indicadores.repositories.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-06-06 19:52:16.726 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Stopping service [Tomcat]
2025-06-06 19:52:16.740 [main] WARN  [org.springframework.context.support.AbstractApplicationContext:refresh:635] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-06-06 19:52:16.765 [main] INFO  [org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger:logMessage:82] - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-06 19:52:16.807 [main] ERROR [org.springframework.boot.SpringApplication:reportFailure:857] - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.uca.idhuca.sistema.indicadores.SistemaIndicadoresIdhucaApplication.main(SistemaIndicadoresIdhucaApplication.java:12)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthenticationFilter': Unsatisfied dependency expressed through field 'userDetailsService': Error creating bean with name 'userDetailsServiceImpl': Unsatisfied dependency expressed through field 'usuarioRepository': Error creating bean with name 'usuarioRepository' defined in com.uca.idhuca.sistema.indicadores.repositories.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4467)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsServiceImpl': Unsatisfied dependency expressed through field 'usuarioRepository': Error creating bean with name 'usuarioRepository' defined in com.uca.idhuca.sistema.indicadores.repositories.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1667)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 55 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usuarioRepository' defined in com.uca.idhuca.sistema.indicadores.repositories.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1460)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1609)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1555)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 69 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 81 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1812)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 93 common frames omitted
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	... 100 common frames omitted
Caused by: org.hibernate.HibernateException: Unable to determine Dialect without JDBC metadata (please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a custom Dialect implementation must be provided)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:191)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:87)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentWithDefaults(JdbcEnvironmentInitiator.java:181)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:392)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 115 common frames omitted
2025-06-06 19:52:53.701 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 8080 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 19:52:53.706 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 19:52:53.708 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 19:52:55.190 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 19:52:55.392 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 186 ms. Found 9 JPA repository interfaces.
2025-06-06 19:52:56.639 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 19:52:56.671 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 19:52:56.683 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 19:52:56.684 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 19:52:56.837 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 19:52:56.838 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 3014 ms
2025-06-06 19:52:57.124 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 19:52:57.277 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 19:52:57.369 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 19:52:57.997 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 19:52:58.058 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 19:52:58.660 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@165d1d54
2025-06-06 19:52:58.664 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 19:52:58.944 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 19:53:01.535 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 19:53:04.991 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 19:53:05.659 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 19:53:05.662 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 19:53:05.894 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 19:53:07.497 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 19:53:07.583 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 19:53:07.741 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 19:53:08.066 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 19:53:08.522 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 19:53:08.567 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 19:53:08.598 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 16.285 seconds (process running for 17.161)
2025-06-06 19:53:33.063 [http-nio-8080-exec-5] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 19:53:33.064 [http-nio-8080-exec-5] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 19:53:33.067 [http-nio-8080-exec-5] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 2 ms
2025-06-06 19:53:33.275 [http-nio-8080-exec-5] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T01:53:33Z, a difference of 76625272 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 19:53:42.531 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 19:53:42.533 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 19:53:42.534 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 19:53:42.535 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 19:53:42.537 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 19:53:42.539 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 19:53:42.540 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 19:53:42.749 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba2@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba2@gmail.com","password":"04a76651"}
2025-06-06 19:53:42.756 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba2@gmail.com] Request válido
2025-06-06 19:53:43.175 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba2@gmail.com] Usuario encontrado correctamente: Usuario(id=11, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$zzmjPhFvpV20QZ45CMGqNuCA5ZttqPP9cUEn5utKEMJGnoEEWLuEu, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@5c8e293d, activo=true, creadoEn=2025-06-05 00:52:01.933, esPasswordProvisional=true)
2025-06-06 19:53:43.391 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [prueba2@gmail.com] Autenticación correcta.
2025-06-06 19:53:43.431 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [prueba2@gmail.com] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2MTIyMywiZXhwIjoxNzQ5MzQ3NjIzfQ.MtPs9ura7pz6pGkIC1Wc-8IKhIsl1joBH15Nlk1rIvICWTC8JgBvApvEi2BSNvs2gWaPbEBbqLg0D-hwyutRGg
2025-06-06 19:53:43.437 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba2@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 19:53:43.469 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 19:53:43.470 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 19:53:43.471 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2MTIyMywiZXhwIjoxNzQ5MzQ3NjIzfQ.MtPs9ura7pz6pGkIC1Wc-8IKhIsl1joBH15Nlk1rIvICWTC8JgBvApvEi2BSNvs2gWaPbEBbqLg0D-hwyutRGg"}}
2025-06-06 19:53:43.473 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 19:54:01.576 [http-nio-8080-exec-8] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T01:54:01Z, a difference of 76653575 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 19:58:22.114 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 19:58:22.150 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 19:58:22.191 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 19:58:22.227 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 19:58:22.237 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 20:00:43.559 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 17.0.3.1 with PID 2312 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 20:00:43.565 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 20:00:43.566 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 20:00:45.328 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 20:00:45.576 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 227 ms. Found 9 JPA repository interfaces.
2025-06-06 20:00:47.007 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 20:00:47.034 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 20:00:47.037 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 20:00:47.037 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 20:00:47.180 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 20:00:47.181 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 3498 ms
2025-06-06 20:00:47.501 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 20:00:47.674 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 20:00:47.781 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 20:00:48.506 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 20:00:48.597 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 20:00:48.944 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@37986daf
2025-06-06 20:00:48.949 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 20:00:49.134 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 20:00:52.180 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 20:00:54.705 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 20:00:55.525 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 20:00:55.526 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 20:00:55.652 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 20:00:57.088 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 20:00:57.158 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 20:00:57.316 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 20:00:57.651 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 20:00:58.234 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 20:00:58.291 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 20:00:58.309 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 16.086 seconds (process running for 18.809)
2025-06-06 20:06:31.666 [http-nio-8080-exec-1] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 20:06:31.667 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 20:06:31.671 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 4 ms
2025-06-06 20:06:32.040 [http-nio-8080-exec-1] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T02:06:32Z, a difference of 77404034 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-06-06 20:23:39.554 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 20:23:43.939 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 20:23:44.034 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 20:23:44.181 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 20:23:44.227 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 20:28:00.764 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 5788 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 20:28:00.865 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 20:28:00.866 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 20:28:01.670 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 20:28:01.798 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 109 ms. Found 9 JPA repository interfaces.
2025-06-06 20:28:02.429 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 20:28:02.450 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 20:28:02.455 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 20:28:02.455 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 20:28:02.523 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 20:28:02.524 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 1604 ms
2025-06-06 20:28:02.685 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 20:28:02.732 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 20:28:02.768 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 20:28:03.103 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 20:28:03.132 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 20:28:03.411 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@30d15e4a
2025-06-06 20:28:03.413 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 20:28:03.499 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 20:28:04.935 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 20:28:06.544 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 20:28:06.844 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 20:28:06.846 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 20:28:06.900 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 20:28:07.732 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 20:28:07.764 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 20:28:07.853 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 20:28:08.007 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 20:28:08.267 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 20:28:08.290 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 20:28:08.299 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 8.265 seconds (process running for 8.692)
2025-06-06 20:29:50.241 [http-nio-8080-exec-2] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 20:29:50.242 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 20:29:50.245 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 2 ms
2025-06-06 20:29:50.413 [http-nio-8080-exec-2] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T02:29:50Z, a difference of 78802411 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 20:35:00.239 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 20:35:00.344 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 20:35:00.412 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 20:35:00.508 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 20:35:00.553 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 20:36:24.320 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 4100 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 20:36:24.324 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 20:36:24.325 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 20:36:25.346 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 20:36:25.502 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 144 ms. Found 9 JPA repository interfaces.
2025-06-06 20:36:26.284 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 20:36:26.302 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 20:36:26.306 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 20:36:26.307 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 20:36:26.405 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 20:36:26.406 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 2013 ms
2025-06-06 20:36:26.595 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 20:36:26.681 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 20:36:26.742 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 20:36:27.149 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 20:36:27.193 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 20:36:27.483 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@76b305e1
2025-06-06 20:36:27.487 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 20:36:27.621 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 20:36:29.326 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 20:36:31.412 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 20:36:31.890 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 20:36:31.891 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 20:36:31.988 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 20:36:33.001 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 20:36:33.042 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 20:36:33.137 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 20:36:33.353 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 20:36:33.622 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 20:36:33.649 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 20:36:33.667 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 10.212 seconds (process running for 10.776)
2025-06-06 20:36:39.510 [http-nio-8080-exec-1] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 20:36:39.512 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 20:36:39.513 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 0 ms
2025-06-06 20:36:39.565 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 20:36:39.566 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 20:36:39.566 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 20:36:39.567 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 20:36:39.568 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 20:36:39.568 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 20:36:39.569 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 20:36:39.719 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [00366519@uca.edu.sv] ------ Inicio de servicio 'test/testConnection' {"email":"00366519@uca.edu.sv","password":"admin4"}
2025-06-06 20:36:39.722 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [00366519@uca.edu.sv] Request válido
2025-06-06 20:36:39.931 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [00366519@uca.edu.sv] Usuario encontrado correctamente: Usuario(id=2, nombre=Andrea Amaya, email=00366519@uca.edu.sv, contrasenaHash=$2a$10$L6wsEyXVUcvAZh40soUt3.hOigON/NB5kvlKeA1JkkmKc5L188uai, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@70ef6c31, activo=true, creadoEn=2025-05-17 22:36:53.763, esPasswordProvisional=true)
2025-06-06 20:36:40.049 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [00366519@uca.edu.sv] Autenticación correcta.
2025-06-06 20:36:40.093 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [00366519@uca.edu.sv] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIwMDM2NjUxOUB1Y2EuZWR1LnN2IiwiaWF0IjoxNzQ5MjYzODAwLCJleHAiOjE3NDkzNTAyMDB9.GDFHHE3P0nBed7-ui-F5tjK6NH0g-LG3B_WZtMr2IIjJfBuVRxTpEpvOeBLMd5kZKdv9em6djMhI0xTG7BMQng
2025-06-06 20:36:40.097 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [00366519@uca.edu.sv] ------ Fin de servicio 'test/testConnection'
2025-06-06 20:36:40.111 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 20:36:40.112 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 20:36:40.113 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIwMDM2NjUxOUB1Y2EuZWR1LnN2IiwiaWF0IjoxNzQ5MjYzODAwLCJleHAiOjE3NDkzNTAyMDB9.GDFHHE3P0nBed7-ui-F5tjK6NH0g-LG3B_WZtMr2IIjJfBuVRxTpEpvOeBLMd5kZKdv9em6djMhI0xTG7BMQng"}}
2025-06-06 20:36:40.113 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 20:37:00.069 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 20:37:00.071 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 20:37:00.071 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 20:37:00.071 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/users/add
2025-06-06 20:37:00.072 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 20:37:00.072 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 20:37:00.073 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIwMDM2NjUxOUB1Y2EuZWR1LnN2IiwiaWF0IjoxNzQ5MjYzODAwLCJleHAiOjE3NDkzNTAyMDB9.GDFHHE3P0nBed7-ui-F5tjK6NH0g-LG3B_WZtMr2IIjJfBuVRxTpEpvOeBLMd5kZKdv9em6djMhI0xTG7BMQng
2025-06-06 20:37:00.094 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:addUser:111] - [00366519@uca.edu.sv] ------ Inicio de servicio '/add' {"nombre":"Prueba 2","email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":null,"rol":{"codigo":"ROL_3","descripcion":null},"securityQuestion":null,"securityAnswer":null,"newPassword":null,"debloquearUsuario":false}
2025-06-06 20:37:00.098 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:add:67] - [00366519@uca.edu.sv] Request válido
2025-06-06 20:37:00.212 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:add:95] - [00366519@uca.edu.sv] Creando usuario... [Usuario(id=null, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$H3MOCXEkE7EHMRylM0HzVOA5LfK1hsYo6OhR.7sbFvgt5pzoiwfPq, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@7274300e, activo=true, creadoEn=Fri Jun 06 20:37:00 CST 2025, esPasswordProvisional=true)]
2025-06-06 20:37:00.342 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:add:100] - [00366519@uca.edu.sv] Usuario creado: prueba2@gmail.com
2025-06-06 20:37:00.372 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuditoriaImpl:add:81] - [00366519@uca.edu.sv] Auditoria creada correctamente: {"id":38,"usuario":{"id":2,"nombre":"Andrea Amaya","email":"00366519@uca.edu.sv","rol":{"codigo":"ROL_1","descripcion":"admin"},"activo":true,"creadoEn":"2025-05-18T04:36:53.763+00:00","esPasswordProvisional":true},"tablaAfectada":"usuarios","operacion":"crear","registroId":"12","descripcion":"Se realizó la operación 'crear' sobre la tabla 'usuarios' con los datos: {\"id\":12,\"nombre\":\"Prueba 2\",\"email\":\"prueba2@gmail.com\",\"rol\":{\"codigo\":\"ROL_3\",\"descripcion\":null},\"activo\":true,\"creadoEn\":\"2025-06-07T02:37:00.212+00:00\",\"esPasswordProvisional\":true}","fecha":"2025-06-07T02:37:00.348+00:00"}
2025-06-06 20:37:00.374 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:addUser:120] - [00366519@uca.edu.sv] ------ Fin de servicio '/add'
2025-06-06 20:37:00.376 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 20:37:00.377 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 20:37:00.377 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"Usuario prueba2@gmail.com creado exitosamente. Contraseña provisional: 2509b939"}
2025-06-06 20:37:00.378 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 20:45:43.420 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 20:45:43.456 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 20:45:43.458 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 20:45:43.462 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 20:45:43.463 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 20:45:43.464 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 20:45:43.465 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 20:45:43.576 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba2@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba2@gmail.com","password":"2509b939"}
2025-06-06 20:45:43.580 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba2@gmail.com] Request válido
2025-06-06 20:45:43.789 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba2@gmail.com] Usuario encontrado correctamente: Usuario(id=12, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$H3MOCXEkE7EHMRylM0HzVOA5LfK1hsYo6OhR.7sbFvgt5pzoiwfPq, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@46824559, activo=true, creadoEn=2025-06-06 20:37:00.212, esPasswordProvisional=true)
2025-06-06 20:45:43.937 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [prueba2@gmail.com] Autenticación correcta.
2025-06-06 20:45:43.955 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [prueba2@gmail.com] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NDM0MywiZXhwIjoxNzQ5MzUwNzQzfQ.k5PjBRGVJ3M1QAWMqZW37rBohct18j5uPMLwKwkJvmJycFdOD-Fpvk1Z3Lx6rrIAv5zm3yA9xlNiA3mwGm2FvA
2025-06-06 20:45:43.958 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba2@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 20:45:43.966 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 20:45:43.967 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 20:45:43.967 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NDM0MywiZXhwIjoxNzQ5MzUwNzQzfQ.k5PjBRGVJ3M1QAWMqZW37rBohct18j5uPMLwKwkJvmJycFdOD-Fpvk1Z3Lx6rrIAv5zm3yA9xlNiA3mwGm2FvA"}}
2025-06-06 20:45:43.968 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 20:46:21.099 [http-nio-8080-exec-5] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T02:46:21Z, a difference of 79793061 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 20:47:38.436 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 20:47:38.474 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 20:47:38.507 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 20:47:38.558 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 20:47:38.578 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 20:50:49.962 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 13132 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 20:50:49.966 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 20:50:49.968 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 20:50:51.430 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 20:50:51.642 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 197 ms. Found 9 JPA repository interfaces.
2025-06-06 20:50:52.709 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 20:50:52.739 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 20:50:52.744 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 20:50:52.745 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 20:50:52.855 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 20:50:52.857 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 2774 ms
2025-06-06 20:50:53.093 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 20:50:53.199 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 20:50:53.265 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 20:50:53.813 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 20:50:53.881 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 20:50:54.346 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@79604abe
2025-06-06 20:50:54.350 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 20:50:54.540 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 20:50:56.872 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 20:50:59.500 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 20:51:00.015 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 20:51:00.017 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 20:51:00.096 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 20:51:01.149 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 20:51:01.201 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 20:51:01.320 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 20:51:01.514 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 20:51:01.951 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 20:51:01.990 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 20:51:02.007 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 13.103 seconds (process running for 13.683)
2025-06-06 20:53:48.198 [http-nio-8080-exec-1] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 20:53:48.198 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 20:53:48.201 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 2 ms
2025-06-06 20:53:48.398 [http-nio-8080-exec-1] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T02:53:48Z, a difference of 80240396 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 20:54:01.775 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 20:54:01.776 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 20:54:01.777 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 20:54:01.777 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 20:54:01.778 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 20:54:01.779 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 20:54:01.779 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 20:54:01.888 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba2@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba2@gmail.com","password":"2509b939"}
2025-06-06 20:54:01.894 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba2@gmail.com] Request válido
2025-06-06 20:54:02.091 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba2@gmail.com] Usuario encontrado correctamente: Usuario(id=12, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$H3MOCXEkE7EHMRylM0HzVOA5LfK1hsYo6OhR.7sbFvgt5pzoiwfPq, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@e157ea9, activo=true, creadoEn=2025-06-06 20:37:00.212, esPasswordProvisional=true)
2025-06-06 20:54:02.218 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [prueba2@gmail.com] Autenticación correcta.
2025-06-06 20:54:02.242 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [prueba2@gmail.com] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NDg0MiwiZXhwIjoxNzQ5MzUxMjQyfQ.xK5F2EguUbiBhA7ovK95JhvznpYIOdC0ZOomqajXec138QWoTKL2LtWFZ9uGPqKSZOOZohYoAEbLb5kwwShXig
2025-06-06 20:54:02.245 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba2@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 20:54:02.263 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 20:54:02.264 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 20:54:02.265 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NDg0MiwiZXhwIjoxNzQ5MzUxMjQyfQ.xK5F2EguUbiBhA7ovK95JhvznpYIOdC0ZOomqajXec138QWoTKL2LtWFZ9uGPqKSZOOZohYoAEbLb5kwwShXig"}}
2025-06-06 20:54:02.266 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 20:54:15.292 [http-nio-8080-exec-3] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T02:54:15Z, a difference of 80267291 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 20:55:34.834 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 20:55:34.852 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 20:55:34.863 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 20:55:34.868 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 20:55:34.877 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 20:59:48.842 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 17.0.3.1 with PID 4952 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 20:59:48.850 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 20:59:48.851 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 20:59:50.430 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 20:59:50.645 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 196 ms. Found 9 JPA repository interfaces.
2025-06-06 20:59:51.765 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 20:59:51.784 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 20:59:51.786 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 20:59:51.787 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 20:59:51.885 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 20:59:51.887 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 2930 ms
2025-06-06 20:59:52.158 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 20:59:52.290 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 20:59:52.363 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 20:59:53.183 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 20:59:53.246 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 20:59:53.593 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6dcbbb49
2025-06-06 20:59:53.598 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 20:59:53.782 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 20:59:57.044 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 20:59:59.939 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:00:00.652 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 21:00:00.653 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 21:00:00.779 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 21:00:02.258 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 21:00:02.385 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 21:00:02.795 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:00:03.276 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:00:03.895 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 21:00:03.941 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 21:00:03.955 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 16.579 seconds (process running for 18.502)
2025-06-06 21:00:52.244 [http-nio-8080-exec-2] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 21:00:52.247 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 21:00:52.248 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 1 ms
2025-06-06 21:00:52.406 [http-nio-8080-exec-2] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T03:00:52Z, a difference of 80664402 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-06-06 21:00:56.952 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:00:56.953 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:00:56.953 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:00:56.954 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 21:00:56.955 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:00:56.956 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:00:56.956 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 21:00:57.096 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba2@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba2@gmail.com","password":"2509b939"}
2025-06-06 21:00:57.101 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba2@gmail.com] Request válido
2025-06-06 21:00:57.400 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba2@gmail.com] Usuario encontrado correctamente: Usuario(id=12, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$H3MOCXEkE7EHMRylM0HzVOA5LfK1hsYo6OhR.7sbFvgt5pzoiwfPq, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@79d380e1, activo=true, creadoEn=2025-06-06 20:37:00.212, esPasswordProvisional=true)
2025-06-06 21:00:57.528 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [prueba2@gmail.com] Autenticación correcta.
2025-06-06 21:00:57.564 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [prueba2@gmail.com] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NTI1NywiZXhwIjoxNzQ5MzUxNjU3fQ.4fvhgBxXAiNAP2-FYwDBvKNBWiijdIy0Y7rKhGvNE8Qr_nJWDX7Pp_zlI7UXR_aRPnMNrF5mVlZEgY76bHXnWA
2025-06-06 21:00:57.567 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba2@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 21:00:57.591 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:00:57.592 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 21:00:57.593 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NTI1NywiZXhwIjoxNzQ5MzUxNjU3fQ.4fvhgBxXAiNAP2-FYwDBvKNBWiijdIy0Y7rKhGvNE8Qr_nJWDX7Pp_zlI7UXR_aRPnMNrF5mVlZEgY76bHXnWA"}}
2025-06-06 21:00:57.594 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 21:01:22.501 [http-nio-8080-exec-3] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T03:01:22Z, a difference of 80694500 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-06-06 21:05:00.317 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 21:05:01.359 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 21:05:01.423 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:05:01.478 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 21:05:01.516 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 21:06:27.157 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 17.0.3.1 with PID 14880 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 21:06:27.165 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 21:06:27.169 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 21:06:29.301 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 21:06:29.562 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 217 ms. Found 9 JPA repository interfaces.
2025-06-06 21:06:30.953 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 21:06:30.986 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 21:06:30.990 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 21:06:30.990 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 21:06:31.101 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 21:06:31.104 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 3779 ms
2025-06-06 21:06:31.373 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 21:06:31.472 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 21:06:31.556 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 21:06:32.075 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 21:06:32.129 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 21:06:32.470 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7db162f2
2025-06-06 21:06:32.473 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 21:06:32.652 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 21:06:35.538 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 21:06:38.399 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:06:39.335 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 21:06:39.337 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 21:06:39.449 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 21:06:41.124 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 21:06:41.193 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 21:06:41.378 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:06:41.664 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:06:42.354 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 21:06:42.414 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 21:06:42.445 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 16.697 seconds (process running for 19.313)
2025-06-06 21:07:08.487 [http-nio-8080-exec-2] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 21:07:08.487 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 21:07:08.488 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 1 ms
2025-06-06 21:07:08.557 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:07:08.558 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:07:08.559 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:07:08.559 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 21:07:08.559 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:07:08.560 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:07:08.560 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 21:07:08.758 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [00366519@uca.edu.sv] ------ Inicio de servicio 'test/testConnection' {"email":"00366519@uca.edu.sv","password":"admin4"}
2025-06-06 21:07:08.762 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [00366519@uca.edu.sv] Request válido
2025-06-06 21:07:08.987 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [00366519@uca.edu.sv] Usuario encontrado correctamente: Usuario(id=2, nombre=Andrea Amaya, email=00366519@uca.edu.sv, contrasenaHash=$2a$10$L6wsEyXVUcvAZh40soUt3.hOigON/NB5kvlKeA1JkkmKc5L188uai, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@5e544ee0, activo=true, creadoEn=2025-05-17 22:36:53.763, esPasswordProvisional=true)
2025-06-06 21:07:09.105 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [00366519@uca.edu.sv] Autenticación correcta.
2025-06-06 21:07:09.190 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [00366519@uca.edu.sv] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIwMDM2NjUxOUB1Y2EuZWR1LnN2IiwiaWF0IjoxNzQ5MjY1NjI5LCJleHAiOjE3NDkzNTIwMjl9.3Q6S8FC7bOYApP5ejXoDNxPr0ruLZKI4I-ERsDG_NUWfu0FJfpWjgeE4M_HbTLGyZryCwanFaFvzw4D7N8A0BQ
2025-06-06 21:07:09.194 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [00366519@uca.edu.sv] ------ Fin de servicio 'test/testConnection'
2025-06-06 21:07:09.221 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:07:09.222 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 21:07:09.223 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIwMDM2NjUxOUB1Y2EuZWR1LnN2IiwiaWF0IjoxNzQ5MjY1NjI5LCJleHAiOjE3NDkzNTIwMjl9.3Q6S8FC7bOYApP5ejXoDNxPr0ruLZKI4I-ERsDG_NUWfu0FJfpWjgeE4M_HbTLGyZryCwanFaFvzw4D7N8A0BQ"}}
2025-06-06 21:07:09.224 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 21:07:23.217 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:07:23.218 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:07:23.218 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:07:23.218 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/users/add
2025-06-06 21:07:23.218 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:07:23.218 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:07:23.218 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIwMDM2NjUxOUB1Y2EuZWR1LnN2IiwiaWF0IjoxNzQ5MjY1NjI5LCJleHAiOjE3NDkzNTIwMjl9.3Q6S8FC7bOYApP5ejXoDNxPr0ruLZKI4I-ERsDG_NUWfu0FJfpWjgeE4M_HbTLGyZryCwanFaFvzw4D7N8A0BQ
2025-06-06 21:07:23.247 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:addUser:111] - [00366519@uca.edu.sv] ------ Inicio de servicio '/add' {"nombre":"Prueba 2","email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":null,"rol":{"codigo":"ROL_3","descripcion":null},"securityQuestion":null,"securityAnswer":null,"newPassword":null,"debloquearUsuario":false}
2025-06-06 21:07:23.252 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:add:67] - [00366519@uca.edu.sv] Request válido
2025-06-06 21:08:29.374 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:add:95] - [00366519@uca.edu.sv] Creando usuario... [Usuario(id=null, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$h4/wMZJGOrZX7/e/72GJWu7gdUDHCOmcxpA3c9QWixy5yXK6LyVOi, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@369eff49, activo=true, creadoEn=Fri Jun 06 21:08:23 CST 2025, esPasswordProvisional=true)]
2025-06-06 21:09:16.970 [HikariPool-1 housekeeper] WARN  [com.zaxxer.hikari.pool.HikariPool$HouseKeeper:run:797] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=59s85ms378µs100ns).
2025-06-06 21:09:18.888 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:add:100] - [00366519@uca.edu.sv] Usuario creado: prueba2@gmail.com
2025-06-06 21:09:21.367 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuditoriaImpl:add:81] - [00366519@uca.edu.sv] Auditoria creada correctamente: {"id":39,"usuario":{"id":2,"nombre":"Andrea Amaya","email":"00366519@uca.edu.sv","rol":{"codigo":"ROL_1","descripcion":"admin"},"activo":true,"creadoEn":"2025-05-18T04:36:53.763+00:00","esPasswordProvisional":true},"tablaAfectada":"usuarios","operacion":"crear","registroId":"13","descripcion":"Se realizó la operación 'crear' sobre la tabla 'usuarios' con los datos: {\"id\":13,\"nombre\":\"Prueba 2\",\"email\":\"prueba2@gmail.com\",\"rol\":{\"codigo\":\"ROL_3\",\"descripcion\":null},\"activo\":true,\"creadoEn\":\"2025-06-07T03:08:23.944+00:00\",\"esPasswordProvisional\":true}","fecha":"2025-06-07T03:09:21.250+00:00"}
2025-06-06 21:09:34.742 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:addUser:120] - [00366519@uca.edu.sv] ------ Fin de servicio '/add'
2025-06-06 21:09:34.924 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:09:34.925 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 21:09:34.927 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"Usuario prueba2@gmail.com creado exitosamente. Contraseña provisional: 9f77280c"}
2025-06-06 21:09:34.928 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 21:10:17.465 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:10:17.466 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:10:17.466 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:10:17.466 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 21:10:17.466 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:10:17.467 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:10:17.467 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 21:10:17.470 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba2@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba2@gmail.com","password":" 9f77280c"}
2025-06-06 21:10:17.470 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba2@gmail.com] Request válido
2025-06-06 21:10:17.481 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba2@gmail.com] Usuario encontrado correctamente: Usuario(id=13, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$h4/wMZJGOrZX7/e/72GJWu7gdUDHCOmcxpA3c9QWixy5yXK6LyVOi, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@3eb7af35, activo=true, creadoEn=2025-06-06 21:08:23.944, esPasswordProvisional=true)
2025-06-06 21:10:17.608 [http-nio-8080-exec-4] ERROR [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:matchPasswords:66] - [prueba2@gmail.com] Password incorrecta.
2025-06-06 21:10:17.609 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba2@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 21:10:17.611 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:10:17.611 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 400
2025-06-06 21:10:17.611 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":-1,"mensaje":"Error: usuario o contraseña no coinciden.","entity":null}
2025-06-06 21:10:17.611 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 21:10:24.383 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:10:24.384 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:10:24.384 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:10:24.385 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 21:10:24.385 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:10:24.385 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:10:24.385 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 21:10:24.388 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba2@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba2@gmail.com","password":"9f77280c"}
2025-06-06 21:10:24.388 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba2@gmail.com] Request válido
2025-06-06 21:10:24.400 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba2@gmail.com] Usuario encontrado correctamente: Usuario(id=13, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$h4/wMZJGOrZX7/e/72GJWu7gdUDHCOmcxpA3c9QWixy5yXK6LyVOi, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@203f5f75, activo=true, creadoEn=2025-06-06 21:08:23.944, esPasswordProvisional=true)
2025-06-06 21:10:24.502 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [prueba2@gmail.com] Autenticación correcta.
2025-06-06 21:10:24.504 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [prueba2@gmail.com] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NTgyNCwiZXhwIjoxNzQ5MzUyMjI0fQ.OWI-A5DtiFBkKzEM5AyP5gbb0LjfO2XxVyGnrcLdc1BYJ0Xzswqkiwqo4tDmvMd90E-5lzKy2WtiqFcty4HBJQ
2025-06-06 21:10:24.504 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba2@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 21:10:24.505 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:10:24.506 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 21:10:24.506 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NTgyNCwiZXhwIjoxNzQ5MzUyMjI0fQ.OWI-A5DtiFBkKzEM5AyP5gbb0LjfO2XxVyGnrcLdc1BYJ0Xzswqkiwqo4tDmvMd90E-5lzKy2WtiqFcty4HBJQ"}}
2025-06-06 21:10:24.506 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 21:10:43.806 [http-nio-8080-exec-5] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T03:10:43Z, a difference of 81255803 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-06-06 21:11:10.357 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 21:11:10.477 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 21:11:10.492 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:11:10.500 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 21:11:10.507 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 21:11:20.513 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 17.0.3.1 with PID 5132 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 21:11:20.518 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 21:11:20.519 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 21:11:22.412 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 21:11:22.712 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 262 ms. Found 9 JPA repository interfaces.
2025-06-06 21:11:23.894 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 21:11:23.918 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 21:11:23.923 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 21:11:23.923 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 21:11:24.023 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 21:11:24.025 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 3363 ms
2025-06-06 21:11:24.259 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 21:11:24.377 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 21:11:24.454 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 21:11:25.056 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 21:11:25.128 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 21:11:25.459 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2804b13f
2025-06-06 21:11:25.463 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 21:11:25.635 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 21:11:28.025 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 21:11:29.919 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:11:30.529 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 21:11:30.531 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 21:11:30.637 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 21:11:32.112 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 21:11:32.200 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 21:11:32.351 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:11:32.639 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:11:33.173 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 21:11:33.217 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 21:11:33.238 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 14.222 seconds (process running for 16.049)
2025-06-06 21:15:45.436 [http-nio-8080-exec-1] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 21:15:45.436 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 21:15:45.438 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 2 ms
2025-06-06 21:15:45.593 [http-nio-8080-exec-1] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T03:15:45Z, a difference of 81557591 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2025-06-06 21:33:57.649 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 21:33:58.050 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 21:33:58.144 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:33:58.253 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 21:33:58.300 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 21:34:25.023 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 4280 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 21:34:25.028 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 21:34:25.030 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 21:34:26.239 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 21:34:26.401 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 150 ms. Found 9 JPA repository interfaces.
2025-06-06 21:34:27.337 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 21:34:27.364 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 21:34:27.369 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 21:34:27.370 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 21:34:27.473 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 21:34:27.475 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 2362 ms
2025-06-06 21:34:27.718 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 21:34:27.824 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 21:34:27.885 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 21:34:28.352 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 21:34:28.398 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 21:34:28.700 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@165d1d54
2025-06-06 21:34:28.702 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 21:34:28.838 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 21:34:30.783 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 21:34:33.092 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:34:33.582 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 21:34:33.584 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 21:34:33.690 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 21:34:34.882 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 21:34:34.939 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 21:34:35.056 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:34:35.277 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:34:35.635 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 21:34:35.667 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 21:34:35.677 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 11.723 seconds (process running for 12.369)
2025-06-06 21:35:01.566 [http-nio-8080-exec-1] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 21:35:01.567 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 21:35:01.570 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 1 ms
2025-06-06 21:35:01.636 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:35:01.637 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:35:01.638 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:35:01.638 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 21:35:01.639 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:35:01.639 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:35:01.640 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 21:35:01.819 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [00366519@uca.edu.sv] ------ Inicio de servicio 'test/testConnection' {"email":"00366519@uca.edu.sv","password":"admin4"}
2025-06-06 21:35:01.826 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [00366519@uca.edu.sv] Request válido
2025-06-06 21:35:02.040 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [00366519@uca.edu.sv] Usuario encontrado correctamente: Usuario(id=2, nombre=Andrea Amaya, email=00366519@uca.edu.sv, contrasenaHash=$2a$10$L6wsEyXVUcvAZh40soUt3.hOigON/NB5kvlKeA1JkkmKc5L188uai, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@19e9fd0d, activo=true, creadoEn=2025-05-17 22:36:53.763, esPasswordProvisional=true)
2025-06-06 21:35:02.149 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [00366519@uca.edu.sv] Autenticación correcta.
2025-06-06 21:35:02.199 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [00366519@uca.edu.sv] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIwMDM2NjUxOUB1Y2EuZWR1LnN2IiwiaWF0IjoxNzQ5MjY3MzAyLCJleHAiOjE3NDkzNTM3MDJ9.2ggi_0ROEkQCe0am_y385Xuk7CJm7ybHiScCGVgA20ROF-OvU7iVHJ2L0fxqvE5il8BXBI0PMELiD9Pu5poS_w
2025-06-06 21:35:02.203 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [00366519@uca.edu.sv] ------ Fin de servicio 'test/testConnection'
2025-06-06 21:35:02.224 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:35:02.225 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 21:35:02.226 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIwMDM2NjUxOUB1Y2EuZWR1LnN2IiwiaWF0IjoxNzQ5MjY3MzAyLCJleHAiOjE3NDkzNTM3MDJ9.2ggi_0ROEkQCe0am_y385Xuk7CJm7ybHiScCGVgA20ROF-OvU7iVHJ2L0fxqvE5il8BXBI0PMELiD9Pu5poS_w"}}
2025-06-06 21:35:02.227 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 21:35:17.714 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:35:17.715 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:35:17.716 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:35:17.716 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/users/add
2025-06-06 21:35:17.717 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:35:17.721 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:35:17.728 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIwMDM2NjUxOUB1Y2EuZWR1LnN2IiwiaWF0IjoxNzQ5MjY3MzAyLCJleHAiOjE3NDkzNTM3MDJ9.2ggi_0ROEkQCe0am_y385Xuk7CJm7ybHiScCGVgA20ROF-OvU7iVHJ2L0fxqvE5il8BXBI0PMELiD9Pu5poS_w
2025-06-06 21:35:17.760 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:addUser:111] - [00366519@uca.edu.sv] ------ Inicio de servicio '/add' {"nombre":"Prueba 2","email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":null,"rol":{"codigo":"ROL_3","descripcion":null},"securityQuestion":null,"securityAnswer":null,"newPassword":null,"debloquearUsuario":false}
2025-06-06 21:35:17.763 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:add:67] - [00366519@uca.edu.sv] Request válido
2025-06-06 21:35:17.870 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:add:95] - [00366519@uca.edu.sv] Creando usuario... [Usuario(id=null, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$MfhHvfCgycCRr1bfbBlOwu9C1E79tIklrMQmHAnakNKcnn7ceFaiC, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@19119594, activo=true, creadoEn=Fri Jun 06 21:35:17 CST 2025, esPasswordProvisional=true)]
2025-06-06 21:35:17.988 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:add:100] - [00366519@uca.edu.sv] Usuario creado: prueba2@gmail.com
2025-06-06 21:35:18.044 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuditoriaImpl:add:81] - [00366519@uca.edu.sv] Auditoria creada correctamente: {"id":40,"usuario":{"id":2,"nombre":"Andrea Amaya","email":"00366519@uca.edu.sv","rol":{"codigo":"ROL_1","descripcion":"admin"},"activo":true,"creadoEn":"2025-05-18T04:36:53.763+00:00","esPasswordProvisional":true},"tablaAfectada":"usuarios","operacion":"crear","registroId":"14","descripcion":"Se realizó la operación 'crear' sobre la tabla 'usuarios' con los datos: {\"id\":14,\"nombre\":\"Prueba 2\",\"email\":\"prueba2@gmail.com\",\"rol\":{\"codigo\":\"ROL_3\",\"descripcion\":null},\"activo\":true,\"creadoEn\":\"2025-06-07T03:35:17.870+00:00\",\"esPasswordProvisional\":true}","fecha":"2025-06-07T03:35:17.997+00:00"}
2025-06-06 21:35:18.046 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:addUser:120] - [00366519@uca.edu.sv] ------ Fin de servicio '/add'
2025-06-06 21:35:18.050 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:35:18.051 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 21:35:18.054 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"Usuario prueba2@gmail.com creado exitosamente. Contraseña provisional: 4d7b7285"}
2025-06-06 21:35:18.059 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 21:35:48.132 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:35:48.133 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:35:48.134 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:35:48.134 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 21:35:48.134 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:35:48.135 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:35:48.135 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 21:35:48.137 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba2@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba2@gmail.com","password":"4d7b7285"}
2025-06-06 21:35:48.138 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba2@gmail.com] Request válido
2025-06-06 21:35:48.148 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba2@gmail.com] Usuario encontrado correctamente: Usuario(id=14, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$MfhHvfCgycCRr1bfbBlOwu9C1E79tIklrMQmHAnakNKcnn7ceFaiC, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@21fe3832, activo=true, creadoEn=2025-06-06 21:35:17.87, esPasswordProvisional=true)
2025-06-06 21:35:48.259 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [prueba2@gmail.com] Autenticación correcta.
2025-06-06 21:35:48.261 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [prueba2@gmail.com] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NzM0OCwiZXhwIjoxNzQ5MzUzNzQ4fQ.yw1bn2k4_ZZD3hwMy0BlKYCFxcKR8GKywNSFJcL252rWByL0xab4jmX9bXEJkkT0h53zRwFig7ppAllIgHq9MQ
2025-06-06 21:35:48.262 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba2@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 21:35:48.263 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:35:48.264 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 21:35:48.264 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NzM0OCwiZXhwIjoxNzQ5MzUzNzQ4fQ.yw1bn2k4_ZZD3hwMy0BlKYCFxcKR8GKywNSFJcL252rWByL0xab4jmX9bXEJkkT0h53zRwFig7ppAllIgHq9MQ"}}
2025-06-06 21:35:48.265 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 21:36:21.000 [http-nio-8080-exec-4] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T03:36:20Z, a difference of 82792995 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 21:40:34.028 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 21:40:34.138 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 21:40:34.196 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:40:34.368 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 21:40:34.437 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 21:41:57.666 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 6420 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 21:41:57.760 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 21:41:57.761 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 21:41:58.801 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 21:41:58.997 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 177 ms. Found 9 JPA repository interfaces.
2025-06-06 21:41:59.863 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 21:41:59.917 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 21:41:59.920 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 21:41:59.922 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 21:42:00.032 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 21:42:00.033 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 2203 ms
2025-06-06 21:42:00.265 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 21:42:00.373 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 21:42:00.415 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 21:42:00.759 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 21:42:00.798 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 21:42:01.112 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@15f2a43f
2025-06-06 21:42:01.115 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 21:42:01.247 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 21:42:02.989 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 21:42:05.586 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:42:06.024 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 21:42:06.025 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 21:42:06.096 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 21:42:07.108 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 21:42:07.151 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 21:42:07.251 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:42:07.442 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:42:07.742 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 21:42:07.772 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 21:42:07.781 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 10.931 seconds (process running for 11.418)
2025-06-06 21:42:19.060 [http-nio-8080-exec-5] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 21:42:19.062 [http-nio-8080-exec-5] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 21:42:19.064 [http-nio-8080-exec-5] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 1 ms
2025-06-06 21:42:19.116 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:42:19.117 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:42:19.117 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:42:19.118 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 21:42:19.120 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:42:19.123 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:42:19.125 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 21:42:19.280 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba2@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba2@gmail.com","password":"4d7b7285"}
2025-06-06 21:42:19.283 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba2@gmail.com] Request válido
2025-06-06 21:42:19.484 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba2@gmail.com] Usuario encontrado correctamente: Usuario(id=14, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$MfhHvfCgycCRr1bfbBlOwu9C1E79tIklrMQmHAnakNKcnn7ceFaiC, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@37c3d1c4, activo=true, creadoEn=2025-06-06 21:35:17.87, esPasswordProvisional=true)
2025-06-06 21:42:19.608 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [prueba2@gmail.com] Autenticación correcta.
2025-06-06 21:42:19.656 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [prueba2@gmail.com] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NzczOSwiZXhwIjoxNzQ5MzU0MTM5fQ.hxyHrO2aSRGnLGyqnps6le2MSvX-iwc4d0mnlcbGhFVXDaGF8xLTrvf0SXk0TRsZUTly89JZa4nPjO623ucwsQ
2025-06-06 21:42:19.689 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba2@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 21:42:19.705 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:42:19.706 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 21:42:19.706 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NzczOSwiZXhwIjoxNzQ5MzU0MTM5fQ.hxyHrO2aSRGnLGyqnps6le2MSvX-iwc4d0mnlcbGhFVXDaGF8xLTrvf0SXk0TRsZUTly89JZa4nPjO623ucwsQ"}}
2025-06-06 21:42:19.707 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 21:42:58.467 [http-nio-8080-exec-1] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T03:42:58Z, a difference of 83190465 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 21:43:37.462 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 21:43:37.477 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 21:43:37.485 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:43:37.492 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 21:43:37.497 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 21:45:07.580 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 17300 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 21:45:07.609 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 21:45:07.612 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 21:45:09.511 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 21:45:09.818 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 285 ms. Found 9 JPA repository interfaces.
2025-06-06 21:45:11.884 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 21:45:11.959 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 21:45:11.968 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 21:45:11.969 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 21:45:12.156 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 21:45:12.158 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 4423 ms
2025-06-06 21:45:12.537 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 21:45:12.772 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 21:45:12.887 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 21:45:13.631 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 21:45:13.725 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 21:45:14.467 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7e81617a
2025-06-06 21:45:14.472 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 21:45:14.820 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 21:45:18.064 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 21:45:24.046 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:45:25.024 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 21:45:25.025 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 21:45:25.236 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 21:45:27.066 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 21:45:27.132 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 21:45:27.264 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:45:27.480 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:45:27.951 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 21:45:27.993 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 21:45:28.007 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 22.661 seconds (process running for 23.559)
2025-06-06 21:45:36.506 [http-nio-8080-exec-2] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 21:45:36.509 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 21:45:36.515 [http-nio-8080-exec-2] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 5 ms
2025-06-06 21:45:36.615 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:45:36.617 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:45:36.618 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:45:36.621 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 21:45:36.624 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:45:36.626 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:45:36.632 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 21:45:36.947 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba2@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba2@gmail.com","password":"4d7b7285"}
2025-06-06 21:45:36.954 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba2@gmail.com] Request válido
2025-06-06 21:45:37.306 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba2@gmail.com] Usuario encontrado correctamente: Usuario(id=14, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$MfhHvfCgycCRr1bfbBlOwu9C1E79tIklrMQmHAnakNKcnn7ceFaiC, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@3fecf0c2, activo=true, creadoEn=2025-06-06 21:35:17.87, esPasswordProvisional=true)
2025-06-06 21:45:37.499 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [prueba2@gmail.com] Autenticación correcta.
2025-06-06 21:45:37.593 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [prueba2@gmail.com] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NzkzNywiZXhwIjoxNzQ5MzU0MzM3fQ.Dd2p3ym1cTVbsFOM33rIn2ohyzl05bzUvL8U-mswKtE08fHUAmLs9gpY130JXGlXeYuRvBSQq_jOzGzelxZW5g
2025-06-06 21:45:37.600 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba2@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 21:45:37.634 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:45:37.634 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 21:45:37.635 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2NzkzNywiZXhwIjoxNzQ5MzU0MzM3fQ.Dd2p3ym1cTVbsFOM33rIn2ohyzl05bzUvL8U-mswKtE08fHUAmLs9gpY130JXGlXeYuRvBSQq_jOzGzelxZW5g"}}
2025-06-06 21:45:37.636 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 21:45:56.636 [http-nio-8080-exec-1] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T03:45:56Z, a difference of 83368634 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 21:46:12.238 [http-nio-8080-exec-3] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T03:46:12Z, a difference of 83384237 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 21:47:47.221 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 21:47:47.244 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 21:47:47.262 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:47:47.278 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 21:47:47.289 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 21:52:10.969 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 7236 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 21:52:11.067 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 21:52:11.068 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 21:52:12.353 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 21:52:12.536 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 165 ms. Found 9 JPA repository interfaces.
2025-06-06 21:52:13.364 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 21:52:13.385 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 21:52:13.388 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 21:52:13.389 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 21:52:13.495 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 21:52:13.497 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 2354 ms
2025-06-06 21:52:13.711 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 21:52:13.811 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 21:52:13.875 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 21:52:14.321 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 21:52:14.370 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 21:52:14.681 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@55053f81
2025-06-06 21:52:14.684 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 21:52:14.864 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 21:52:16.719 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 21:52:18.829 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:52:19.290 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 21:52:19.291 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 21:52:19.363 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 21:52:20.468 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 21:52:20.539 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 21:52:20.679 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/**, idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:52:20.927 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:52:21.295 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 21:52:21.327 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 21:52:21.340 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 11.328 seconds (process running for 11.928)
2025-06-06 21:52:51.325 [http-nio-8080-exec-1] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 21:52:51.326 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 21:52:51.328 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 2 ms
2025-06-06 21:52:51.450 [http-nio-8080-exec-1] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T03:52:51Z, a difference of 83783446 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 21:54:33.840 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 21:54:33.854 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 21:54:33.865 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:54:33.892 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 21:54:33.900 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 21:55:32.534 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 17888 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 21:55:32.629 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 21:55:32.631 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 21:55:33.712 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 21:55:33.872 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 146 ms. Found 9 JPA repository interfaces.
2025-06-06 21:55:34.705 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 21:55:34.725 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 21:55:34.732 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 21:55:34.733 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 21:55:34.831 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 21:55:34.832 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 2128 ms
2025-06-06 21:55:35.050 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 21:55:35.160 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 21:55:35.220 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 21:55:35.686 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 21:55:35.732 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 21:55:35.997 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5df64b2a
2025-06-06 21:55:35.999 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 21:55:36.123 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 21:55:38.157 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 21:55:40.293 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 21:55:40.787 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 21:55:40.788 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 21:55:40.874 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 21:55:41.870 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 21:55:41.922 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 21:55:42.035 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/*/**, idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:55:42.222 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 21:55:42.533 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 21:55:42.565 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 21:55:42.579 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 10.903 seconds (process running for 11.422)
2025-06-06 21:55:48.087 [http-nio-8080-exec-1] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 21:55:48.088 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 21:55:48.090 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 2 ms
2025-06-06 21:55:48.240 [http-nio-8080-exec-1] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T03:55:48Z, a difference of 83960237 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 21:56:49.225 [http-nio-8080-exec-3] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T04:36:28Z. Current time: 2025-06-07T03:56:49Z, a difference of 84021215 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 21:59:13.331 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:59:13.335 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:59:13.336 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:59:13.339 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/users/change/password
2025-06-06 21:59:13.339 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:59:13.340 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:59:13.341 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: No JWT
2025-06-06 21:59:14.212 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:changePassword:183] - [SYSTEM] ------ Fin de servicio '/update' 
2025-06-06 21:59:14.274 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:59:14.275 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 400
2025-06-06 21:59:14.276 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":-1,"mensaje":"Usuario no encontrado con email: anonymousUser"}
2025-06-06 21:59:14.277 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 21:59:41.502 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:59:41.503 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:59:41.504 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:59:41.504 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 21:59:41.504 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:59:41.505 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:59:41.506 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 21:59:41.523 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba2@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba2@gmail.com","password":"4d7b7285"}
2025-06-06 21:59:41.882 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba2@gmail.com] Request válido
2025-06-06 21:59:41.980 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba2@gmail.com] Usuario encontrado correctamente: Usuario(id=14, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$MfhHvfCgycCRr1bfbBlOwu9C1E79tIklrMQmHAnakNKcnn7ceFaiC, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@5cff86b1, activo=true, creadoEn=2025-06-06 21:35:17.87, esPasswordProvisional=true)
2025-06-06 21:59:42.128 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [prueba2@gmail.com] Autenticación correcta.
2025-06-06 21:59:42.169 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [prueba2@gmail.com] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2ODc4MiwiZXhwIjoxNzQ5MzU1MTgyfQ.NtwSoNn66Aev4iLl1bugUzNtxwf_yuWwSdQ5OKoMla8t4DPn_HFygyoovPtvU0DbP9isTl0Uf0wCxI-kjMftJQ
2025-06-06 21:59:42.201 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba2@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 21:59:42.208 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:59:42.209 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 21:59:42.209 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2ODc4MiwiZXhwIjoxNzQ5MzU1MTgyfQ.NtwSoNn66Aev4iLl1bugUzNtxwf_yuWwSdQ5OKoMla8t4DPn_HFygyoovPtvU0DbP9isTl0Uf0wCxI-kjMftJQ"}}
2025-06-06 21:59:42.210 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 21:59:56.469 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 21:59:56.471 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 21:59:56.471 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 21:59:56.472 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/users/change/password
2025-06-06 21:59:56.473 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 21:59:56.473 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 21:59:56.474 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2ODc4MiwiZXhwIjoxNzQ5MzU1MTgyfQ.NtwSoNn66Aev4iLl1bugUzNtxwf_yuWwSdQ5OKoMla8t4DPn_HFygyoovPtvU0DbP9isTl0Uf0wCxI-kjMftJQ
2025-06-06 21:59:56.488 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:changePassword:172] - [prueba2@gmail.com] ------ Inicio de servicio '/update' {"nombre":null,"email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":"4d7b7285","rol":null,"securityQuestion":{"codigo":"SQ_01","descripcion":null},"securityAnswer":"Homero","newPassword":"prueba2P","debloquearUsuario":false}
2025-06-06 21:59:56.732 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:changePassword:368] - [4d7b7285] Contraseña actual válida.
2025-06-06 21:59:56.732 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:changePassword:376] - [prueba2@gmail.com] Nueva contraseña válida.
2025-06-06 21:59:57.005 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:changePassword:183] - [prueba2@gmail.com] ------ Fin de servicio '/update' 
2025-06-06 21:59:57.008 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 21:59:57.009 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 21:59:57.010 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"Contraseña actualizada exitosamente"}
2025-06-06 21:59:57.010 [http-nio-8080-exec-7] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:01:15.104 [http-nio-8080-exec-8] ERROR [org.apache.juli.logging.DirectJDKLog:log:175] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2025-06-06T06:05:40Z. Current time: 2025-06-07T04:01:15Z, a difference of 78935103 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at com.uca.idhuca.sistema.indicadores.security.JwtUtils.getUserNameFromJwtToken(JwtUtils.java:47)
	at com.uca.idhuca.sistema.indicadores.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:40)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
2025-06-06 22:01:22.776 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:01:22.776 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:01:22.777 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:01:22.777 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/get/securityQuestion
2025-06-06 22:01:22.777 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:01:22.778 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:01:22.778 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: No JWT
2025-06-06 22:01:22.781 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:getSecurityQuestion:86] - [prueba2@gmail.com] ------ Inicio de servicio '/get/securityQuestion' {"nombre":null,"email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":null,"rol":null,"securityQuestion":null,"securityAnswer":null,"newPassword":null,"debloquearUsuario":false}
2025-06-06 22:01:22.783 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:getSecurityQuestio:295] - [prueba2@gmail.com] Request válido
2025-06-06 22:01:22.796 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:getSecurityQuestio:310] - Recovery no existe.
2025-06-06 22:01:22.796 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:getSecurityQuestion:97] - [prueba2@gmail.com] ------ Fin de servicio '/get/securityQuestion'
2025-06-06 22:01:22.798 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:01:22.798 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 400
2025-06-06 22:01:22.798 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":-1,"mensaje":"Recovery no existe."}
2025-06-06 22:01:22.799 [http-nio-8080-exec-10] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:04:05.741 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:04:05.743 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:04:05.743 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:04:05.744 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 22:04:05.745 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:04:05.746 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:04:05.746 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 22:04:05.751 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba2@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba2@gmail.com","password":"prueba2P"}
2025-06-06 22:04:05.752 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba2@gmail.com] Request válido
2025-06-06 22:04:05.763 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba2@gmail.com] Usuario encontrado correctamente: Usuario(id=14, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$HnqACxaa0TG.tx/LoPOSCuHsaLIhMdYDUcBkczC9z8Mv/RdbxyaEe, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@25197995, activo=true, creadoEn=2025-06-06 21:35:17.87, esPasswordProvisional=false)
2025-06-06 22:04:05.886 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [prueba2@gmail.com] Autenticación correcta.
2025-06-06 22:04:05.895 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [prueba2@gmail.com] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2OTA0NSwiZXhwIjoxNzQ5MzU1NDQ1fQ.F5fh3J6_dblFExD0wttX6w9VSX8monhdwxzXWkDZIv_7AMWwARyooMsn4PMI_NYOgHvnvFhEl6kYsFuplqCixQ
2025-06-06 22:04:05.896 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba2@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 22:04:05.898 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:04:05.899 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 22:04:05.900 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2OTA0NSwiZXhwIjoxNzQ5MzU1NDQ1fQ.F5fh3J6_dblFExD0wttX6w9VSX8monhdwxzXWkDZIv_7AMWwARyooMsn4PMI_NYOgHvnvFhEl6kYsFuplqCixQ"}}
2025-06-06 22:04:05.902 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:04:10.077 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:04:10.078 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:04:10.079 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:04:10.080 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/get/securityQuestion
2025-06-06 22:04:10.081 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:04:10.082 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:04:10.083 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: No JWT
2025-06-06 22:04:10.085 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:getSecurityQuestion:86] - [prueba2@gmail.com] ------ Inicio de servicio '/get/securityQuestion' {"nombre":null,"email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":null,"rol":null,"securityQuestion":null,"securityAnswer":null,"newPassword":null,"debloquearUsuario":false}
2025-06-06 22:04:10.086 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:getSecurityQuestio:295] - [prueba2@gmail.com] Request válido
2025-06-06 22:04:10.101 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:getSecurityQuestio:310] - Recovery no existe.
2025-06-06 22:04:10.102 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:getSecurityQuestion:97] - [prueba2@gmail.com] ------ Fin de servicio '/get/securityQuestion'
2025-06-06 22:04:10.105 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:04:10.105 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 400
2025-06-06 22:04:10.106 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":-1,"mensaje":"Recovery no existe."}
2025-06-06 22:04:10.106 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:16:34.179 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 22:16:34.244 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 22:16:34.288 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 22:16:34.350 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 22:16:34.376 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 22:16:49.499 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 18352 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 22:16:49.502 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 22:16:49.504 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 22:16:50.504 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 22:16:50.645 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 128 ms. Found 9 JPA repository interfaces.
2025-06-06 22:16:51.533 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 22:16:51.570 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 22:16:51.574 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 22:16:51.574 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 22:16:51.675 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 22:16:51.676 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 2103 ms
2025-06-06 22:16:51.918 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 22:16:52.010 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 22:16:52.081 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 22:16:52.543 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 22:16:52.591 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 22:16:52.894 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@521ba38f
2025-06-06 22:16:52.897 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 22:16:53.044 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 22:16:54.875 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 22:16:56.580 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 22:16:56.984 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 22:16:56.985 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 22:16:57.057 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 22:16:57.946 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 22:16:58.001 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 22:16:58.081 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/*/**, idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 22:16:58.249 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 22:16:58.523 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 22:16:58.550 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 22:16:58.562 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 9.928 seconds (process running for 10.461)
2025-06-06 22:17:36.042 [http-nio-8080-exec-1] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 22:17:36.042 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 22:17:36.044 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 0 ms
2025-06-06 22:17:36.414 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:17:36.415 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:17:36.416 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:17:36.416 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/users/change/password
2025-06-06 22:17:36.417 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:17:36.418 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:17:36.419 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2ODc4MiwiZXhwIjoxNzQ5MzU1MTgyfQ.NtwSoNn66Aev4iLl1bugUzNtxwf_yuWwSdQ5OKoMla8t4DPn_HFygyoovPtvU0DbP9isTl0Uf0wCxI-kjMftJQ
2025-06-06 22:17:36.588 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:changePassword:172] - [prueba2@gmail.com] ------ Inicio de servicio '/update' {"nombre":null,"email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":"prueba2P","rol":null,"securityQuestion":{"codigo":"SQ_01","descripcion":null},"securityAnswer":"Homero","newPassword":"prueba3P","debloquearUsuario":false}
2025-06-06 22:17:36.717 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:changePassword:343] - [prueba2P] Contraseña actual válida.
2025-06-06 22:17:36.717 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:changePassword:351] - [prueba2@gmail.com] Nueva contraseña válida.
2025-06-06 22:17:36.966 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuditoriaImpl:add:81] - [prueba2@gmail.com] Auditoria creada correctamente: {"id":41,"usuario":{"id":14,"nombre":"Prueba 2","email":"prueba2@gmail.com","rol":{"codigo":"ROL_3","descripcion":"ayudante"},"activo":true,"creadoEn":"2025-06-06 21:35:17","esPasswordProvisional":false},"tablaAfectada":"usuarios","operacion":"actualizar","registroId":"14","descripcion":"Se realizó la operación 'actualizar' sobre la tabla 'usuarios' con los datos: {\"id\":14,\"nombre\":\"Prueba 2\",\"email\":\"prueba2@gmail.com\",\"rol\":{\"codigo\":\"ROL_3\",\"descripcion\":\"ayudante\"},\"activo\":true,\"creadoEn\":\"2025-06-06 21:35:17\",\"esPasswordProvisional\":false}","fecha":"2025-06-06T22:17:36.908-06:00"}
2025-06-06 22:17:36.976 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:changePassword:369] - [prueba2@gmail.com] Usuario no tiene configuración de recuperación, se creará una nueva.
2025-06-06 22:17:37.465 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:changePassword:183] - [prueba2@gmail.com] ------ Fin de servicio '/update' 
2025-06-06 22:17:37.484 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:17:37.485 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 400
2025-06-06 22:17:37.485 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":-1,"mensaje":"not-null property references a null or transient value: com.uca.idhuca.sistema.indicadores.models.RecoveryPassword.usuario"}
2025-06-06 22:17:37.486 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:18:18.905 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 22:18:18.922 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 22:18:18.933 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 22:18:18.940 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 22:18:18.952 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 22:19:12.075 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 15376 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 22:19:12.105 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 22:19:12.106 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 22:19:13.098 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 22:19:13.267 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 150 ms. Found 9 JPA repository interfaces.
2025-06-06 22:19:14.124 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 22:19:14.155 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 22:19:14.160 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 22:19:14.162 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 22:19:14.243 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 22:19:14.244 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 2061 ms
2025-06-06 22:19:14.451 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 22:19:14.554 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 22:19:14.601 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 22:19:14.983 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 22:19:15.034 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 22:19:15.342 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@273aaab7
2025-06-06 22:19:15.345 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 22:19:15.491 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 22:19:17.470 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 22:19:19.765 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 22:19:20.235 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 22:19:20.236 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 22:19:20.305 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 22:19:21.395 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 22:19:21.452 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 22:19:21.578 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/*/**, idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 22:19:21.841 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 22:19:22.230 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 22:19:22.263 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 22:19:22.275 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 11.113 seconds (process running for 11.645)
2025-06-06 22:19:27.824 [http-nio-8080-exec-1] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 22:19:27.824 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 22:19:27.826 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 1 ms
2025-06-06 22:19:28.278 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:19:28.279 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:19:28.279 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:19:28.280 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/users/change/password
2025-06-06 22:19:28.280 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:19:28.281 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:19:28.281 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2ODc4MiwiZXhwIjoxNzQ5MzU1MTgyfQ.NtwSoNn66Aev4iLl1bugUzNtxwf_yuWwSdQ5OKoMla8t4DPn_HFygyoovPtvU0DbP9isTl0Uf0wCxI-kjMftJQ
2025-06-06 22:19:28.417 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:changePassword:172] - [prueba2@gmail.com] ------ Inicio de servicio '/update' {"nombre":null,"email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":"prueba2P","rol":null,"securityQuestion":{"codigo":"SQ_01","descripcion":null},"securityAnswer":"Homero","newPassword":"prueba3P","debloquearUsuario":false}
2025-06-06 22:19:28.565 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:changePassword:183] - [prueba2@gmail.com] ------ Fin de servicio '/update' 
2025-06-06 22:19:28.584 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:19:28.584 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 400
2025-06-06 22:19:28.585 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":-1,"mensaje":"La contraseña actual es incorrecta"}
2025-06-06 22:19:28.585 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:19:42.056 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:19:42.057 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:19:42.057 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:19:42.058 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/users/change/password
2025-06-06 22:19:42.059 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:19:42.059 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:19:42.060 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2ODc4MiwiZXhwIjoxNzQ5MzU1MTgyfQ.NtwSoNn66Aev4iLl1bugUzNtxwf_yuWwSdQ5OKoMla8t4DPn_HFygyoovPtvU0DbP9isTl0Uf0wCxI-kjMftJQ
2025-06-06 22:19:42.075 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:changePassword:172] - [prueba2@gmail.com] ------ Inicio de servicio '/update' {"nombre":null,"email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":"prueba3P","rol":null,"securityQuestion":{"codigo":"SQ_01","descripcion":null},"securityAnswer":"Homero","newPassword":"prueba4P","debloquearUsuario":false}
2025-06-06 22:19:42.179 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:changePassword:343] - [prueba3P] Contraseña actual válida.
2025-06-06 22:19:42.180 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:changePassword:351] - [prueba2@gmail.com] Nueva contraseña válida.
2025-06-06 22:19:42.441 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuditoriaImpl:add:81] - [prueba2@gmail.com] Auditoria creada correctamente: {"id":42,"usuario":{"id":14,"nombre":"Prueba 2","email":"prueba2@gmail.com","rol":{"codigo":"ROL_3","descripcion":"ayudante"},"activo":true,"creadoEn":"2025-06-06 21:35:17","esPasswordProvisional":false},"tablaAfectada":"usuarios","operacion":"actualizar","registroId":"14","descripcion":"Se realizó la operación 'actualizar' sobre la tabla 'usuarios' con los datos: {\"id\":14,\"nombre\":\"Prueba 2\",\"email\":\"prueba2@gmail.com\",\"rol\":{\"codigo\":\"ROL_3\",\"descripcion\":\"ayudante\"},\"activo\":true,\"creadoEn\":\"2025-06-06 21:35:17\",\"esPasswordProvisional\":false}","fecha":"2025-06-06T22:19:42.378-06:00"}
2025-06-06 22:19:42.451 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:changePassword:369] - [prueba2@gmail.com] Usuario no tiene configuración de recuperación, se creará una nueva.
2025-06-06 22:19:42.600 [http-nio-8080-exec-2] WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper:logExceptions:145] - SQL Error: 0, SQLState: 23503
2025-06-06 22:19:42.601 [http-nio-8080-exec-2] ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper:logExceptions:150] - ERROR: insert or update on table "recovery_password" violates foreign key constraint "recovery_password_pregunta_codigo_fkey"
  Detail: Key (pregunta_codigo)=(SQ_01) is not present in table "catalogo".
2025-06-06 22:19:42.922 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:changePassword:183] - [prueba2@gmail.com] ------ Fin de servicio '/update' 
2025-06-06 22:19:42.924 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:19:42.925 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 400
2025-06-06 22:19:42.926 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":-1,"mensaje":"could not execute statement [ERROR: insert or update on table \"recovery_password\" violates foreign key constraint \"recovery_password_pregunta_codigo_fkey\"\n  Detail: Key (pregunta_codigo)=(SQ_01) is not present in table \"catalogo\".] [insert into recovery_password (actualizado_en,intentos_fallidos,pregunta_codigo,respuesta_hash,usuario_id) values (?,?,?,?,?)]; SQL [insert into recovery_password (actualizado_en,intentos_fallidos,pregunta_codigo,respuesta_hash,usuario_id) values (?,?,?,?,?)]; constraint [recovery_password_pregunta_codigo_fkey]"}
2025-06-06 22:19:42.930 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:20:26.119 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:20:26.120 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:20:26.120 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:20:26.121 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/users/change/password
2025-06-06 22:20:26.122 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:20:26.122 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:20:26.122 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI2ODc4MiwiZXhwIjoxNzQ5MzU1MTgyfQ.NtwSoNn66Aev4iLl1bugUzNtxwf_yuWwSdQ5OKoMla8t4DPn_HFygyoovPtvU0DbP9isTl0Uf0wCxI-kjMftJQ
2025-06-06 22:20:26.133 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:changePassword:172] - [prueba2@gmail.com] ------ Inicio de servicio '/update' {"nombre":null,"email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":"prueba4P","rol":null,"securityQuestion":{"codigo":"SQ_1","descripcion":null},"securityAnswer":"Homero","newPassword":"prueba5P","debloquearUsuario":false}
2025-06-06 22:20:26.236 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:changePassword:343] - [prueba4P] Contraseña actual válida.
2025-06-06 22:20:26.237 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:changePassword:351] - [prueba2@gmail.com] Nueva contraseña válida.
2025-06-06 22:20:26.366 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuditoriaImpl:add:81] - [prueba2@gmail.com] Auditoria creada correctamente: {"id":43,"usuario":{"id":14,"nombre":"Prueba 2","email":"prueba2@gmail.com","rol":{"codigo":"ROL_3","descripcion":"ayudante"},"activo":true,"creadoEn":"2025-06-06 21:35:17","esPasswordProvisional":false},"tablaAfectada":"usuarios","operacion":"actualizar","registroId":"14","descripcion":"Se realizó la operación 'actualizar' sobre la tabla 'usuarios' con los datos: {\"id\":14,\"nombre\":\"Prueba 2\",\"email\":\"prueba2@gmail.com\",\"rol\":{\"codigo\":\"ROL_3\",\"descripcion\":\"ayudante\"},\"activo\":true,\"creadoEn\":\"2025-06-06 21:35:17\",\"esPasswordProvisional\":false}","fecha":"2025-06-06T22:20:26.352-06:00"}
2025-06-06 22:20:26.372 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:changePassword:369] - [prueba2@gmail.com] Usuario no tiene configuración de recuperación, se creará una nueva.
2025-06-06 22:20:26.496 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:changePassword:377] - [prueba2@gmail.com] Configuración de recuperación actualizada correctamente.
2025-06-06 22:20:26.517 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuditoriaImpl:add:81] - [prueba2@gmail.com] Auditoria creada correctamente: {"id":44,"usuario":{"id":14,"nombre":"Prueba 2","email":"prueba2@gmail.com","rol":{"codigo":"ROL_3","descripcion":"ayudante"},"activo":true,"creadoEn":"2025-06-06 21:35:17","esPasswordProvisional":false},"tablaAfectada":"recoverypasswords","operacion":"actualizar","registroId":"9","descripcion":"Se realizó la operación 'actualizar' sobre la tabla 'recoverypasswords' con los datos: {\"id\":9,\"usuario\":{\"id\":14,\"nombre\":\"Prueba 2\",\"email\":\"prueba2@gmail.com\",\"rol\":{\"codigo\":\"ROL_3\",\"descripcion\":\"ayudante\"},\"activo\":true,\"creadoEn\":\"2025-06-06 21:35:17\",\"esPasswordProvisional\":false},\"preguntaCodigo\":\"SQ_1\",\"respuestaHash\":\"$2a$10$9I.hZEkivCp9ZVGJAQQIhePUab/JnGyY88.nwGQMjmvL31dYFP4xi\",\"intentosFallidos\":0,\"actualizadoEn\":\"2025-06-06T22:20:26.372288\"}","fecha":"2025-06-06T22:20:26.501-06:00"}
2025-06-06 22:20:26.519 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:changePassword:183] - [prueba2@gmail.com] ------ Fin de servicio '/update' 
2025-06-06 22:20:26.520 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:20:26.520 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 22:20:26.521 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"Contraseña actualizada exitosamente"}
2025-06-06 22:20:26.521 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:20:35.774 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:20:35.775 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:20:35.775 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:20:35.776 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/get/securityQuestion
2025-06-06 22:20:35.776 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:20:35.776 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:20:35.777 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: No JWT
2025-06-06 22:20:35.779 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:getSecurityQuestion:86] - [prueba2@gmail.com] ------ Inicio de servicio '/get/securityQuestion' {"nombre":null,"email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":null,"rol":null,"securityQuestion":null,"securityAnswer":null,"newPassword":null,"debloquearUsuario":false}
2025-06-06 22:20:35.780 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:getSecurityQuestio:295] - [prueba2@gmail.com] Request válido
2025-06-06 22:20:35.795 [http-nio-8080-exec-5] ERROR [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:getSecurityQuestio:322] - [prueba2@gmail.com] Pregunta obtenida correctamente.
2025-06-06 22:20:35.797 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:getSecurityQuestion:97] - [prueba2@gmail.com] ------ Fin de servicio '/get/securityQuestion'
2025-06-06 22:20:35.802 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:20:35.803 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 22:20:35.803 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"Pregunta obtenida correctamente.","entity":{"codigo":"SQ_1","descripcion":"¿Cuál es el nombre de tu primera mascota?"}}
2025-06-06 22:20:35.803 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:21:26.902 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:21:26.903 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:21:26.903 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:21:26.904 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/recovery/password
2025-06-06 22:21:26.904 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:21:26.904 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:21:26.905 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: No JWT
2025-06-06 22:21:26.908 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:recoverypassword:67] - [prueba2@gmail.com] ------ Inicio de servicio '/recovery/password' {"nombre":null,"email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":null,"rol":null,"securityQuestion":null,"securityAnswer":"Homero","newPassword":"prueba6P","debloquearUsuario":false}
2025-06-06 22:21:26.909 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.utils.RequestValidations:validarRecoveryPassword:597] - [SYSTEM] La propiedad 'securityQuestion' y su 'codigo' son obligatorias.
2025-06-06 22:21:26.910 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:recoverypassword:76] - [prueba2@gmail.com] ------ Fin de servicio '/recovery/password'
2025-06-06 22:21:26.911 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:21:26.912 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 400
2025-06-06 22:21:26.912 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":-1,"mensaje":"La propiedad 'securityQuestion' y su 'codigo' son obligatorias."}
2025-06-06 22:21:26.912 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:28:03.493 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 22:28:03.548 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 22:28:03.585 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 22:28:03.631 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 22:28:03.662 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
2025-06-06 22:29:01.120 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarting:53] - Starting SistemaIndicadoresIdhucaApplication using Java 24.0.1 with PID 16148 (D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA\target\classes started by Andrea in D:\Tesis_2025\BACKEND\SistemaIndicadoresIDHUCA\server\SistemaIndicadoresIDHUCA)
2025-06-06 22:29:01.213 [main] DEBUG [org.springframework.boot.StartupInfoLogger:logStarting:54] - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-06-06 22:29:01.215 [main] INFO  [org.springframework.boot.SpringApplication:logStartupProfileInfo:658] - The following 1 profile is active: "dev"
2025-06-06 22:29:02.292 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:143] - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-06 22:29:02.437 [main] INFO  [org.springframework.data.repository.config.RepositoryConfigurationDelegate:registerRepositoriesIn:211] - Finished Spring Data repository scanning in 134 ms. Found 9 JPA repository interfaces.
2025-06-06 22:29:03.199 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:initialize:111] - Tomcat initialized with port 8080 (http)
2025-06-06 22:29:03.227 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing ProtocolHandler ["http-nio-8080"]
2025-06-06 22:29:03.232 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting service [Tomcat]
2025-06-06 22:29:03.232 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-06-06 22:29:03.337 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring embedded WebApplicationContext
2025-06-06 22:29:03.338 [main] INFO  [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext:prepareWebApplicationContext:301] - Root WebApplicationContext: initialization completed in 2050 ms
2025-06-06 22:29:03.562 [main] INFO  [org.hibernate.jpa.internal.util.LogHelper:logPersistenceUnitInformation:31] - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-06 22:29:03.634 [main] INFO  [org.hibernate.Version:logVersion:44] - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-06-06 22:29:03.688 [main] INFO  [org.hibernate.cache.internal.RegionFactoryInitiator:initiateService:50] - HHH000026: Second-level cache disabled
2025-06-06 22:29:04.050 [main] INFO  [org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo:addTransformer:87] - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-06 22:29:04.087 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:109] - HikariPool-1 - Starting...
2025-06-06 22:29:04.380 [main] INFO  [com.zaxxer.hikari.pool.HikariPool:checkFailFast:554] - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@59a2d756
2025-06-06 22:29:04.382 [main] INFO  [com.zaxxer.hikari.HikariDataSource:getConnection:122] - HikariPool-1 - Start completed.
2025-06-06 22:29:04.497 [main] INFO  [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator:initiateService:157] - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-06 22:29:06.127 [main] INFO  [org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator:initiateService:59] - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-06 22:29:08.003 [main] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:buildNativeEntityManagerFactory:447] - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 22:29:08.455 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'jwtAuthenticationFilter' configured for use
2025-06-06 22:29:08.456 [main] DEBUG [org.springframework.web.filter.GenericFilterBean:init:240] - Filter 'requestFilter' configured for use
2025-06-06 22:29:08.529 [main] INFO  [org.springframework.data.jpa.repository.query.QueryEnhancerFactory:<clinit>:49] - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-06 22:29:09.624 [main] WARN  [org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration:openEntityManagerInViewInterceptor:258] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-06 22:29:09.703 [main] INFO  [org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer:configure:114] - Global AuthenticationManager configured with UserDetailsService bean with name userDetailsServiceImpl
2025-06-06 22:29:09.816 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/*/**, idhuca-indicadores/api/srv/test/**, idhuca-indicadores/api/srv/auth/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 22:29:10.021 [main] WARN  [org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry:requestMatchers:203] - One of the patterns in [idhuca-indicadores/api/srv/user/**, idhuca-indicadores/api/srv/auditoria/**, idhuca-indicadores/api/srv/fichaDerecho/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-06-06 22:29:10.374 [main] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Starting ProtocolHandler ["http-nio-8080"]
2025-06-06 22:29:10.410 [main] INFO  [org.springframework.boot.web.embedded.tomcat.TomcatWebServer:start:243] - Tomcat started on port 8080 (http) with context path '/'
2025-06-06 22:29:10.422 [main] INFO  [org.springframework.boot.StartupInfoLogger:logStarted:59] - Started SistemaIndicadoresIdhucaApplication in 10.116 seconds (process running for 10.625)
2025-06-06 22:29:50.439 [http-nio-8080-exec-1] INFO  [org.apache.juli.logging.DirectJDKLog:log:173] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-06 22:29:50.440 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:532] - Initializing Servlet 'dispatcherServlet'
2025-06-06 22:29:50.441 [http-nio-8080-exec-1] INFO  [org.springframework.web.servlet.FrameworkServlet:initServletBean:554] - Completed initialization in 1 ms
2025-06-06 22:29:50.489 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:29:50.491 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:29:50.492 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:29:50.492 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/get/securityQuestion
2025-06-06 22:29:50.493 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:29:50.493 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:29:50.494 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: No JWT
2025-06-06 22:29:50.665 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:getSecurityQuestion:86] - [prueba2@gmail.com] ------ Inicio de servicio '/get/securityQuestion' {"nombre":null,"email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":null,"rol":null,"securityQuestion":null,"securityAnswer":null,"newPassword":null,"debloquearUsuario":false}
2025-06-06 22:29:50.668 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:getSecurityQuestio:285] - [prueba2@gmail.com] Request válido
2025-06-06 22:29:50.902 [http-nio-8080-exec-1] ERROR [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:getSecurityQuestio:312] - [prueba2@gmail.com] Pregunta obtenida correctamente.
2025-06-06 22:29:50.904 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:getSecurityQuestion:97] - [prueba2@gmail.com] ------ Fin de servicio '/get/securityQuestion'
2025-06-06 22:29:50.925 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:29:50.925 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 22:29:50.927 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"Pregunta obtenida correctamente.","entity":{"codigo":"SQ_1","descripcion":"¿Cuál es el nombre de tu primera mascota?"}}
2025-06-06 22:29:50.927 [http-nio-8080-exec-1] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:29:58.610 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:29:58.611 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:29:58.614 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:29:58.616 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/recovery/password
2025-06-06 22:29:58.617 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:29:58.618 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:29:58.619 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: No JWT
2025-06-06 22:29:58.622 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:recoverypassword:67] - [prueba2@gmail.com] ------ Inicio de servicio '/recovery/password' {"nombre":null,"email":"prueba2@gmail.com","id":null,"provisionalPassword":null,"password":null,"rol":null,"securityQuestion":null,"securityAnswer":"Homero","newPassword":"prueba6P","debloquearUsuario":false}
2025-06-06 22:29:58.623 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:recoveryPassword:219] - [prueba2@gmail.com] Request válido
2025-06-06 22:29:58.992 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:recoveryPassword:272] - [prueba2@gmail.com] Contraseña actualizada exitosamente
2025-06-06 22:29:58.993 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:recoverypassword:76] - [prueba2@gmail.com] ------ Fin de servicio '/recovery/password'
2025-06-06 22:29:58.995 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:29:58.995 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 22:29:58.996 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"Contraseña actualizada exitosamente."}
2025-06-06 22:29:58.997 [http-nio-8080-exec-3] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:30:11.566 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:30:11.567 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:30:11.567 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:30:11.568 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 22:30:11.569 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:30:11.569 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:30:11.570 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 22:30:11.574 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba2@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba2@gmail.com","password":"prueba6P"}
2025-06-06 22:30:11.575 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba2@gmail.com] Request válido
2025-06-06 22:30:11.591 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba2@gmail.com] Usuario encontrado correctamente: Usuario(id=14, nombre=Prueba 2, email=prueba2@gmail.com, contrasenaHash=$2a$10$j3jQ7EbJKnCZjaqDFHjf3.mdquWiB1GW2kAmVm/uFor11ar5kNU0G, rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@9f5e144, activo=true, creadoEn=2025-06-06 21:35:17.87, esPasswordProvisional=false)
2025-06-06 22:30:11.690 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [prueba2@gmail.com] Autenticación correcta.
2025-06-06 22:30:11.736 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [prueba2@gmail.com] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI3MDYxMSwiZXhwIjoxNzQ5MzU3MDExfQ.kMhPr1CyeSlhDI_OwSlirCtFkTkOx6zE8KPlaPlI1Zw_cRbAaYVQkuhjYqRSYDpV8MGL9TmRKHe0Qn-Uw2Udig
2025-06-06 22:30:11.738 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba2@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 22:30:11.741 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:30:11.742 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 22:30:11.742 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI3MDYxMSwiZXhwIjoxNzQ5MzU3MDExfQ.kMhPr1CyeSlhDI_OwSlirCtFkTkOx6zE8KPlaPlI1Zw_cRbAaYVQkuhjYqRSYDpV8MGL9TmRKHe0Qn-Uw2Udig"}}
2025-06-06 22:30:11.742 [http-nio-8080-exec-2] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:30:32.735 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:30:32.737 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:30:32.737 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:30:32.738 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/users/add
2025-06-06 22:30:32.739 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:30:32.739 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:30:32.739 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEyQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI3MDYxMSwiZXhwIjoxNzQ5MzU3MDExfQ.kMhPr1CyeSlhDI_OwSlirCtFkTkOx6zE8KPlaPlI1Zw_cRbAaYVQkuhjYqRSYDpV8MGL9TmRKHe0Qn-Uw2Udig
2025-06-06 22:30:32.751 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:addUser:111] - [prueba2@gmail.com] ------ Inicio de servicio '/add' {"nombre":"Prueba 3","email":"prueba3@gmail.com","id":null,"provisionalPassword":null,"password":null,"rol":{"codigo":"ROL_3","descripcion":null},"securityQuestion":null,"securityAnswer":null,"newPassword":null,"debloquearUsuario":false}
2025-06-06 22:30:32.756 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:add:67] - [prueba2@gmail.com] Request válido
2025-06-06 22:30:32.903 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:add:95] - [prueba2@gmail.com] Creando usuario... [Usuario(id=null, nombre=Prueba 3, email=prueba3@gmail.com, contrasenaHash=$2a$10$l7LH6Ew73WzYFsfXmzvuauYNqlKwKlz/QQewDPvrEq5Sg/QmIZAP., rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@686330b4, activo=true, creadoEn=Fri Jun 06 22:30:32 CST 2025, esPasswordProvisional=true)]
2025-06-06 22:30:32.968 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:add:100] - [prueba2@gmail.com] Usuario creado: prueba3@gmail.com
2025-06-06 22:30:32.998 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuditoriaImpl:add:81] - [prueba2@gmail.com] Auditoria creada correctamente: {"id":45,"usuario":{"id":14,"nombre":"Prueba 2","email":"prueba2@gmail.com","rol":{"codigo":"ROL_3","descripcion":"ayudante"},"activo":true,"creadoEn":"2025-06-06 21:35:17","esPasswordProvisional":false},"tablaAfectada":"usuarios","operacion":"crear","registroId":"15","descripcion":"Se realizó la operación 'crear' sobre la tabla 'usuarios' con los datos: {\"id\":15,\"nombre\":\"Prueba 3\",\"email\":\"prueba3@gmail.com\",\"rol\":{\"codigo\":\"ROL_3\",\"descripcion\":null},\"activo\":true,\"creadoEn\":\"2025-06-06 22:30:32\",\"esPasswordProvisional\":true}","fecha":"2025-06-06T22:30:32.974-06:00"}
2025-06-06 22:30:32.999 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:addUser:120] - [prueba2@gmail.com] ------ Fin de servicio '/add'
2025-06-06 22:30:33.001 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:30:33.001 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 22:30:33.002 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"Usuario prueba3@gmail.com creado exitosamente. Contraseña provisional: 8c2bb07f"}
2025-06-06 22:30:33.002 [http-nio-8080-exec-4] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:31:00.273 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:31:00.274 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:31:00.276 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:31:00.277 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/recovery/password
2025-06-06 22:31:00.280 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:31:00.282 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:31:00.283 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: No JWT
2025-06-06 22:31:00.287 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:recoverypassword:67] - [prueba3@gmail.com] ------ Inicio de servicio '/recovery/password' {"nombre":null,"email":"prueba3@gmail.com","id":null,"provisionalPassword":null,"password":null,"rol":null,"securityQuestion":null,"securityAnswer":"Homero","newPassword":"prueba6P","debloquearUsuario":false}
2025-06-06 22:31:00.288 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.UserImpl:recoveryPassword:219] - [prueba3@gmail.com] Request válido
2025-06-06 22:31:00.310 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:recoverypassword:76] - [prueba3@gmail.com] ------ Fin de servicio '/recovery/password'
2025-06-06 22:31:00.313 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:31:00.316 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 400
2025-06-06 22:31:00.317 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":-1,"mensaje":"Para acceder a esta opcion, por favor incie sesion por primera vez. Si ha olvidado su contraseña provisional, por favor contacte al administrador del sistema."}
2025-06-06 22:31:00.318 [http-nio-8080-exec-5] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:31:22.271 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:31:22.272 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:31:22.272 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:31:22.272 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/auth/login
2025-06-06 22:31:22.273 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:31:22.273 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:31:22.273 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer
2025-06-06 22:31:22.275 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:48] - [prueba3@gmail.com] ------ Inicio de servicio 'test/testConnection' {"email":"prueba3@gmail.com","password":"8c2bb07f"}
2025-06-06 22:31:22.276 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:47] - [prueba3@gmail.com] Request válido
2025-06-06 22:31:22.288 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:53] - [prueba3@gmail.com] Usuario encontrado correctamente: Usuario(id=15, nombre=Prueba 3, email=prueba3@gmail.com, contrasenaHash=$2a$10$l7LH6Ew73WzYFsfXmzvuauYNqlKwKlz/QQewDPvrEq5Sg/QmIZAP., rol=com.uca.idhuca.sistema.indicadores.models.Catalogo@76de4a8b, activo=true, creadoEn=2025-06-06 22:30:32.902, esPasswordProvisional=true)
2025-06-06 22:31:22.397 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:56] - [prueba3@gmail.com] Autenticación correcta.
2025-06-06 22:31:22.399 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.services.impl.AuthImpl:login:59] - [prueba3@gmail.com] JWT generado: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEzQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI3MDY4MiwiZXhwIjoxNzQ5MzU3MDgyfQ.9_bg6sJ1jeIRwFEYd4Ee_sziVG7GSpHolQaANE8yjnUqoy5vEkjkX1OQdqu6TrbhD0Gj6R26VtXJE2-rCKWWxQ
2025-06-06 22:31:22.400 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlAuth:login:57] - [prueba3@gmail.com] ------ Fin de servicio 'test/testConnection'
2025-06-06 22:31:22.401 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:31:22.401 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 22:31:22.402 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"¡Éxito!","entity":{"jwt":"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEzQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI3MDY4MiwiZXhwIjoxNzQ5MzU3MDgyfQ.9_bg6sJ1jeIRwFEYd4Ee_sziVG7GSpHolQaANE8yjnUqoy5vEkjkX1OQdqu6TrbhD0Gj6R26VtXJE2-rCKWWxQ"}}
2025-06-06 22:31:22.402 [http-nio-8080-exec-6] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:31:54.831 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:33] - ===========================================================================
2025-06-06 22:31:54.832 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:34] - =========================== [Petición Entrante] ==========================
2025-06-06 22:31:54.832 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:35] - Método: POST
2025-06-06 22:31:54.833 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:36] - Endpoint: /idhuca-indicadores/api/srv/users/get/current
2025-06-06 22:31:54.834 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:37] - IP: 127.0.0.1
2025-06-06 22:31:54.835 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:38] - User-Agent: insomnia/2022.4.2
2025-06-06 22:31:54.835 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:39] - JWT: Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJwcnVlYmEzQGdtYWlsLmNvbSIsImlhdCI6MTc0OTI3MDY4MiwiZXhwIjoxNzQ5MzU3MDgyfQ.9_bg6sJ1jeIRwFEYd4Ee_sziVG7GSpHolQaANE8yjnUqoy5vEkjkX1OQdqu6TrbhD0Gj6R26VtXJE2-rCKWWxQ
2025-06-06 22:31:54.843 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:getCurrent:52] - [prueba3@gmail.com] ------ Inicio de servicio '/get/current/'
2025-06-06 22:31:54.844 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.controllers.CtrlUsers:getCurrent:59] - [prueba3@gmail.com] ------ Fin de servicio '/get/current/'
2025-06-06 22:31:54.848 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:43] - ============================== [Respuesta] ===============================
2025-06-06 22:31:54.850 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:44] - Status: 200
2025-06-06 22:31:54.851 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:50] - Body de la respuesta: {"codigo":0,"mensaje":"Data obtenida correctamente","entity":{"id":15,"nombre":"Prueba 3","email":"prueba3@gmail.com","rol":{"codigo":"ROL_3","descripcion":"ayudante"},"activo":true,"creadoEn":"2025-06-06 22:30:32","esPasswordProvisional":true}}
2025-06-06 22:31:54.852 [http-nio-8080-exec-9] INFO  [com.uca.idhuca.sistema.indicadores.security.RequestFilter:doFilterInternal:56] - ===========================================================================
2025-06-06 22:32:04.003 [SpringApplicationShutdownHook] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:shutDownGracefully:54] - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-06 22:32:04.020 [tomcat-shutdown] INFO  [org.springframework.boot.web.embedded.tomcat.GracefulShutdown:doShutdown:76] - Graceful shutdown complete
2025-06-06 22:32:04.031 [SpringApplicationShutdownHook] INFO  [org.springframework.orm.jpa.AbstractEntityManagerFactoryBean:destroy:660] - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-06 22:32:04.041 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:349] - HikariPool-1 - Shutdown initiated...
2025-06-06 22:32:04.055 [SpringApplicationShutdownHook] INFO  [com.zaxxer.hikari.HikariDataSource:close:351] - HikariPool-1 - Shutdown completed.
